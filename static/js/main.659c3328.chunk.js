(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(49)},31:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(22),o=a.n(l),r=a(8),i=a(2),c=a(6),m=a(4),u=a(3),d=a(5),h=a(1),p=a(12),g=(a(31),function(e){return s.a.createElement("header",null,s.a.createElement("nav",{className:"teal darken-2"},s.a.createElement("div",{className:"nav-wrapper container"},s.a.createElement(r.b,{to:"/feeds",className:"brand-logo"},"BitBook"),s.a.createElement("ul",{id:"nav-mobile",className:"right"},s.a.createElement("li",null,s.a.createElement(r.b,{to:"/"},"Feed")),s.a.createElement("li",null,s.a.createElement(r.b,{to:"/people"},"People")),s.a.createElement("li",null,s.a.createElement(r.b,{to:"/profile"},"Profile"))))))}),f=function(e){return s.a.createElement("footer",{className:"page-footer teal darken-2"},s.a.createElement("div",{className:"container center"},s.a.createElement("p",null,"\xa9 Copyright: NexoVocniTeam ",(new Date).getFullYear())))},v=a(13),b=function(){function e(t,a,n,s){Object(i.a)(this,e),this.id=t,this.userId=a,this.type=n,this.comments=s}return Object(c.a)(e,[{key:"isVideo",value:function(){return"video"===this.type}},{key:"isPicture",value:function(){return"image"===this.type}},{key:"isText",value:function(){return"text"===this.type}}]),e}(),E=function(e){function t(e,a,n,s,l){var o;return Object(i.a)(this,t),(o=Object(m.a)(this,Object(u.a)(t).call(this,e,a,n,s))).videoUrl=l,o}return Object(d.a)(t,e),t}(b),y=function(e){function t(e,a,n,s,l){var o;return Object(i.a)(this,t),(o=Object(m.a)(this,Object(u.a)(t).call(this,e,a,n,s))).imageUrl=l,o}return Object(d.a)(t,e),t}(b),N=function(e){function t(e,a,n,s,l){var o;return Object(i.a)(this,t),(o=Object(m.a)(this,Object(u.a)(t).call(this,e,a,n,s))).text=l,o}return Object(d.a)(t,e),t}(b),w=function e(t){var a=t.id,n=t.sid,s=t.email,l=t.avatarUrl,o=t.name,r=t.about,c=t.comments,m=t.posts,u=t.createdAt;Object(i.a)(this,e);var d=new Date(u);this.id=a,this.sid=n,this.email=s,this.avatarUrl=l||"http://via.placeholder.com/125",this.firstName=o?o.first:"",this.lastName=o?o.last:"",this.biography=r?r.bio:"No Bio",this.comments=c,this.posts=m,this.createdAt=d.toLocaleDateString()},j=a(25),I=a.n(j),k=function(){var e=I()(localStorage.getItem("user"));return console.log(e),e.id},O=function(){return localStorage.getItem("user")},V=function(){return fetch("https://book-api.hypetech.xyz/v1/users/".concat(k(),"?_embed[]=posts&_embed[]=comments"),{method:"GET",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return console.log(e),new w(e)}).catch(function(e){return console.log(e)})},x=function(){return fetch("https://book-api.hypetech.xyz/v1/posts?_embed=comments",{method:"GET",headers:{"x-api-key":"B1tD3V",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return"text"===e.type?new N(e.id,e.userId,e.type,e.comments,e.text):"image"===e.type?new y(e.id,e.userId,e.type,e.comments,e.imageUrl):"video"===e.type?new E(e.id,e.userId,e.type,e.comments,e.videoUrl):null})})},C=function(e){return fetch("https://book-api.hypetech.xyz/v1/posts",{method:"POST",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e})},P=a(15),S=a.n(P),T=(a(42),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a.instances=null,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".modal"),t=(S.a.Modal.init(e),document.querySelector(".fixed-action-btn"));S.a.FloatingActionButton.init(t)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"fixed-action-btn"},s.a.createElement("button",{className:"btn-floating btn-large red"},s.a.createElement("i",{className:"large material-icons"},"+")),s.a.createElement("ul",null,s.a.createElement("li",null,"Post",s.a.createElement("button",{"data-target":"modalPost",className:"btn modal-trigger btn-floating blue"},s.a.createElement("i",{className:"material-icons"}))),s.a.createElement("li",null,"Image",s.a.createElement("button",{"data-target":"modalImage",className:"btn modal-trigger btn-floating green"},s.a.createElement("i",{className:"material-icons"}))),s.a.createElement("li",null,"Video",s.a.createElement("button",{"data-target":"modalVideo",className:"btn modal-trigger btn-floating red"},s.a.createElement("i",{className:"material-icons"}))))),s.a.createElement("div",{id:"modalPost",className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("h4",null,"New Text Post"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("label",{className:"active",htmlFor:"post-content"},"Post content"),s.a.createElement("input",{value:this.props.postContent,onChange:this.props.changeInputValues,id:"post-content",name:"postContent",type:"text",className:"validate"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"modal-close blue waves-effect waves-blue btn"},"Close"),s.a.createElement("button",{onClick:this.props.createTextPost,className:"modal-close blue waves-effect waves-blue btn"},"Post"))),s.a.createElement("div",{id:"modalImage",className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("h4",null,"New Image Post"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("label",{className:"active",htmlFor:"image-url"},"Image URL"),s.a.createElement("input",{value:this.props.imageUrl,onChange:this.props.changeInputValues,id:"image-url",name:"imageUrl",type:"text",className:"validate"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"modal-close blue waves-effect waves-blue btn"},"Close"),s.a.createElement("button",{onClick:this.props.createImagePost,className:"modal-close blue waves-effect waves-blue btn"},"Post"))),s.a.createElement("div",{id:"modalVideo",className:"modal"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("h4",null,"New Video Post"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("label",{className:"active",htmlFor:"video-url"},"YouTube video link"),s.a.createElement("input",{value:this.props.videoUrl,onChange:this.props.changeInputValues,id:"video-url",name:"videoUrl",type:"text",className:"validate"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"modal-close blue waves-effect waves-blue btn"},"Close"),s.a.createElement("button",{onClick:this.props.createVideoPost,className:"modal-close blue waves-effect waves-blue btn"},"Post"))))}}]),t}(n.Component)),U=function e(t,a,n,s,l){Object(i.a)(this,e),this.id=t,this.postId=a,this.userId=n,this.body=s,this.userAvatarUrl=l},D=function(e){return fetch("https://book-api.hypetech.xyz/v1/comments?postId=".concat(e,"&_expand=user"),{method:"GET",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return console.log(e),e.map(function(e){return console.log(e),e.user?new U(e.id,e.postId,e.userId,e.body,e.user.avatarUrl):new U(e.id,e.postId,e.userId,e.body,"http://via.placeholder.com/125")})})},B=function(e){return fetch("https://book-api.hypetech.xyz/v1/comments/".concat(e),{method:"DELETE",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return e})},R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={commentsCount:"-"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.postId,fetch("https://book-api.hypetech.xyz/v1/comments?postId=".concat(e,"&_limit=1"),{headers:{"x-api-key":"B1tD3V",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.headers.get("x-total-count")})).then(function(e){t.setState({commentsCount:e})})}},{key:"render",value:function(){return s.a.createElement(r.b,{className:"right brown-text text-darken-4",to:"/feeds/".concat(this.props.postId)},this.state.commentsCount," Comments")}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card teal lighten-4"},this.props.post.userId===k()?s.a.createElement("button",{id:this.props.post.id,onClick:this.props.deletePost,className:"delete right"},"x"):null,"Text"===this.props.type?s.a.createElement("div",{className:"card-content brown-text text-darken-4"},s.a.createElement("p",{className:"center"},this.props.post.text)):null,"Image"===this.props.type?s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:this.props.post.imageUrl,alt:"Something"})):null,"Video"===this.props.type?s.a.createElement("div",null,s.a.createElement("iframe",{title:this.props.post.id,width:"100%",height:"400px",src:this.props.post.videoUrl,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})):null,s.a.createElement("div",{className:"card-action"},s.a.createElement(r.b,{to:"/feeds/".concat(this.props.post.id),className:"brown-text text-darken-4"},this.props.type," post"),s.a.createElement(R,{postId:this.props.post.id})))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={posts:[],allPosts:!0,onlyImages:!1,onlyVideos:!1,onlyText:!1,postContent:"",imageUrl:"",videoUrl:""},a.changeInputValues=a.changeInputValues.bind(Object(h.a)(Object(h.a)(a))),a.createTextPost=a.createTextPost.bind(Object(h.a)(Object(h.a)(a))),a.createImagePost=a.createImagePost.bind(Object(h.a)(Object(h.a)(a))),a.createVideoPost=a.createVideoPost.bind(Object(h.a)(Object(h.a)(a))),a.deletePost=a.deletePost.bind(Object(h.a)(Object(h.a)(a))),a.filterText=a.filterText.bind(Object(h.a)(Object(h.a)(a))),a.filterVideos=a.filterVideos.bind(Object(h.a)(Object(h.a)(a))),a.filterImages=a.filterImages.bind(Object(h.a)(Object(h.a)(a))),a.allPosts=a.allPosts.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"changeInputValues",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;x().then(function(t){var a=t.reverse();e.setState({posts:a})})}},{key:"createTextPost",value:function(e){var t=this;e.preventDefault();var a={sid:1e6*Math.random(),type:"text",text:this.state.postContent,isPublic:!0};C(a).then(function(e){console.log(e),x().then(function(e){var a=e.reverse();t.setState({posts:a})})})}},{key:"createImagePost",value:function(e){var t=this;e.preventDefault();var a={sid:1e6*Math.random(),type:"image",imageUrl:this.state.imageUrl,isPublic:!0};C(a).then(function(e){console.log(e),x().then(function(e){var a=e.reverse();t.setState({posts:a})})})}},{key:"createVideoPost",value:function(e){var t=this;e.preventDefault();var a={sid:1e6*Math.random(),type:"video",videoUrl:this.state.videoUrl,isPublic:!0};C(a).then(function(e){console.log(e),x().then(function(e){var a=e.reverse();t.setState({posts:a})})})}},{key:"deletePost",value:function(e){var t,a=this;e.preventDefault(),(t=e.target.id,fetch("https://book-api.hypetech.xyz/v1/posts/".concat(t),{method:"DELETE",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())}}).then(function(e){console.log(e)})).then(function(e){console.log(e),x().then(function(e){var t=e.reverse();a.setState({posts:t})})})}},{key:"showPosts",value:function(){var e=this;return this.state.posts.length?this.state.allPosts?this.state.posts.map(function(t){return t.isText()?s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Text"}):t.isPicture()?s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Image"}):s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Video"})}):this.state.onlyImages?this.state.posts.map(function(t){return t.isPicture()?s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Image"}):null}):this.state.onlyText?this.state.posts.map(function(t){return t.isText()?s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Text"}):null}):this.state.posts.map(function(t){return t.isVideo()?s.a.createElement(L,{deletePost:e.deletePost,key:t.id,post:t,type:"Video"}):null}):s.a.createElement("h1",{className:"center"},"Loading...")}},{key:"filterText",value:function(e){this.setState({allPosts:!1,onlyImages:!1,onlyVideos:!1,onlyText:!0})}},{key:"filterVideos",value:function(e){this.setState({allPosts:!1,onlyImages:!1,onlyVideos:!0,onlyText:!1})}},{key:"filterImages",value:function(e){this.setState({allPosts:!1,onlyImages:!0,onlyVideos:!1,onlyText:!1})}},{key:"allPosts",value:function(e){this.setState({allPosts:!0,onlyImages:!1,onlyVideos:!1,onlyText:!1})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"waves-effect waves-light btn col s3",onClick:this.allPosts},"All Posts"),s.a.createElement("button",{className:"waves-effect waves-light btn col s3",onClick:this.filterImages},"Images"),s.a.createElement("button",{className:"waves-effect waves-light btn col s3",onClick:this.filterVideos},"Videos"),s.a.createElement("button",{className:"waves-effect waves-light btn col s3",onClick:this.filterText},"Text")),this.showPosts(),s.a.createElement(T,{changeInputValues:this.changeInputValues,postContent:this.state.postContent,imageUrl:this.state.imageUrl,videoUrl:this.state.videoUrl,createTextPost:this.createTextPost,createImagePost:this.createImagePost,createVideoPost:this.createVideoPost}))}}]),t}(n.Component),F=(a(43),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).deleteComment=function(e){e.preventDefault(),B(e.target.id).then(function(e){console.log(e),D(a.props.match.params.id).then(function(e){var t=e.reverse();a.setState({comments:t,commentInputValue:""})})})},a.state={post:null,comments:[],commentInputValue:""},a.changeValue=a.changeValue.bind(Object(h.a)(Object(h.a)(a))),a.deleteComment=a.deleteComment.bind(Object(h.a)(Object(h.a)(a))),a.submitComment=a.submitComment.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.id,fetch("https://book-api.hypetech.xyz/v1/posts/".concat(e),{method:"GET",headers:{"x-api-key":"B1tD3V",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return"text"===e.type?new N(e.id,e.userId,e.type,e.comments,e.text):"image"===e.type?new y(e.id,e.userId,e.type,e.comments,e.imageUrl):"video"===e.type?new E(e.id,e.userId,e.type,e.comments,e.videoUrl):null})).then(function(e){D(t.props.match.params.id).then(function(a){var n=a.reverse();t.setState({post:e,comments:n})})})}},{key:"changeValue",value:function(e){this.setState({commentInputValue:e.target.value})}},{key:"submitComment",value:function(e){var t=this;e.preventDefault();var a,n={sid:1e6*Math.random(),userId:k(),postId:this.props.match.params.id,body:this.state.commentInputValue,isPublic:!0};(a=n,fetch("https://book-api.hypetech.xyz/v1/comments",{method:"POST",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())},body:JSON.stringify(a)}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){return new U(e.sid,e.postId,e.userId,e.body)})).then(function(e){console.log(e),D(t.props.match.params.id).then(function(e){var a=e.reverse();t.setState({comments:a,commentInputValue:""})})})}},{key:"showPost",value:function(){return this.state.post?this.state.post.isText()?s.a.createElement("div",{key:this.state.post.id,className:"row post"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card teal lighten-4"},s.a.createElement("div",{className:"card-content brown-text text-darken-4"},s.a.createElement("p",{className:"center"},this.state.post.text)),s.a.createElement("div",{className:"card-action"},s.a.createElement("a",{className:"brown-text text-darken-4",href:"/"},"Text post"),s.a.createElement("a",{className:"right brown-text text-darken-4",href:"/"},this.state.comments.length," Comments"))))):this.state.post.isPicture()?s.a.createElement("div",{key:this.state.post.id,className:"row post"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card teal lighten-4"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:this.state.post.imageUrl,alt:"Something"})),s.a.createElement("div",{className:"card-action"},s.a.createElement("a",{className:"brown-text text-darken-4",href:"/"},"Image post"),s.a.createElement("a",{className:"right brown-text text-darken-4",href:"/"},this.state.comments.length," Comments"))))):s.a.createElement("div",{key:this.state.post.id,className:"row post"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card teal lighten-4"},s.a.createElement("div",{key:this.state.post.id},s.a.createElement("iframe",{title:this.state.post.id,width:"100%",height:"400px",src:this.state.post.videoUrl,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),s.a.createElement("div",{className:"card-action"},s.a.createElement("a",{className:"brown-text text-darken-4",href:"/"},"Video post"),s.a.createElement("a",{className:"right brown-text text-darken-4",href:"/"},this.state.comments.length," Comments"))))):s.a.createElement("h1",null,"Loading")}},{key:"showComments",value:function(){var e=this;return this.state.comments.map(function(t){return s.a.createElement("div",{key:t.id,className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image"},t.userId===k()?s.a.createElement("button",{id:t.id,onClick:e.deleteComment,className:"delete right"},"x"):null,s.a.createElement("img",{className:"comment-image",src:t.userAvatarUrl?t.userAvatarUrl:"http://via.placeholder.com/125",alt:"Something"})),s.a.createElement("div",{className:"card-content"},s.a.createElement("p",null,t.body)))))})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.showPost(),s.a.createElement("form",{method:"POST",action:"/"},s.a.createElement("input",{type:"text",placeholder:"Add your comment",value:this.state.commentInputValue,onChange:this.changeValue}),s.a.createElement("input",{type:"submit",className:"teal white-text",onClick:this.submitComment,disabled:!this.state.commentInputValue})),this.showComments())}}]),t}(n.Component)),z=(a(44),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.isValidName=function(e){return e.length>30?{error:"Error"}:!(e.length<3)||{error:"Error"}},a.isValidBio=function(e){return e.length>60?{error:"Error"}:!(e.length<10)||{error:"Error"}},a.isValidImg=function(e){return!(!e.length||!1===e.startsWith("http"))||{error:"Error"}},a.getInputValues=function(e){return{avatarUrl:a.state.image,name:{prefix:"-",first:a.state.firstName,last:a.state.lastName},about:{job:"-",bio:a.state.bio,countryCode:"-"}}},a.state={firstName:e.user.firstName,lastName:e.user.lastName,name:"".concat(e.user.firstName," ").concat(e.user.lastName),bio:e.user.biography,image:e.user.avatarUrl},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.isValidName(this.state.name),t=this.isValidBio(this.state.bio),a=this.isValidImg(this.state.image);return s.a.createElement("div",{className:"modal-wrapper ",style:{transform:this.props.show?"translateY(0vh)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},s.a.createElement("form",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s6 "},s.a.createElement("h4",null,"Update profile"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s5 center"},s.a.createElement("img",{className:"modal-pic",src:this.props.user.avatarUrl,title:"user",alt:"Something.."})),s.a.createElement("div",{className:"input-field col s5 ",id:"full_name"},s.a.createElement("p",{className:"left"},"Full Name:"),s.a.createElement("input",{name:"name",placeholder:"Full Name",onChange:this.handleInputChange,id:"first_name",type:"text",className:"validate",defaultValue:this.state.name}),s.a.createElement("p",{style:{color:"red",width:"50px"}},e.error))),s.a.createElement("div",{className:"row"},s.a.createElement("p",null,"Image URL:"),s.a.createElement("label",{htmlFor:"img_url"},s.a.createElement("input",{name:"image",placeholder:"ImgUrl",onChange:this.handleInputChange,id:"img_url",type:"text",className:"validate",defaultValue:this.state.image})),s.a.createElement("p",{id:"error",style:{color:"red",width:"50px"}},a.error)),s.a.createElement("div",{className:"row"},s.a.createElement("p",null,"Biography:"),s.a.createElement("label",{htmlFor:"biography"},s.a.createElement("input",{name:"bio",placeholder:"User description and all text that describes user",id:"biography",onChange:this.handleInputChange,type:"text",className:"validate",defaultValue:this.state.bio})),s.a.createElement("p",{id:"error",style:{color:"red",width:"50px"}},t.error)),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn waves-effect waves-light btn-mrg-1",onClick:this.props.close},"CLOSE"),s.a.createElement("button",{className:"btn waves-effect waves-light btn-mrg-2",type:"submit",disabled:t.error||a.error||e.error,name:"action",onClick:this.props.handleSubmit(this.getInputValues())},"UPDATE"))))}}]),t}(s.a.Component)),A=function(e){return s.a.createElement("div",{className:"row center profile"},s.a.createElement("div",{className:"col s12 "},s.a.createElement("div",{className:""},e.isShowing?s.a.createElement(z,{className:"modal",show:e.isShowing,close:e.closeModal,user:e.user,handleSubmit:e.handleSubmit}):null,s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:e.user.avatarUrl,alt:"",className:"circle responsive-img "}),s.a.createElement("h5",{className:"card-title"},"".concat(e.user.firstName," ").concat(e.user.lastName))),e.closeModal?s.a.createElement("button",{"data-target":"modal1",className:"btn modal-trigger",onClick:e.openModal},"Edit Profile"):null,s.a.createElement("div",{className:"card-content"},s.a.createElement("p",null,e.user.biography)),s.a.createElement("div",{className:"card-action"},s.a.createElement("div",{className:"chip"},s.a.createElement("i",{className:"fab fa-cuttlefish"})," ",e.comments.length," Comments  "),s.a.createElement("div",{className:"chip"},s.a.createElement("i",{className:"fab fa-cuttlefish"})," ",e.posts.length," posts ")))))},q=function(e,t){return fetch("https://book-api.hypetech.xyz/v1/users/".concat(e),{method:"PATCH",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())},body:JSON.stringify(t)}).then(function(e){return console.log(e),e.json()}).then(function(e){return console.log(e),e})},_=(a(45),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).fetchUserData=function(){V().then(function(e){console.log(e),a.setState({user:e,comments:e.comments,posts:e.posts})})},a.handleSubmit=function(e){return function(t){t.preventDefault(),q(k(),e).then(function(e){a.setState({user:{avatarUrl:e.avatarUrl,firstName:e.name.first,lastName:e.name.last,biography:e.about.bio}})}),a.closeModal()}},a.openModal=function(){a.setState({isShowing:!0})},a.closeModal=function(){a.setState({isShowing:!1})},a.state={user:null,comments:[],posts:[],isShowing:!1},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchUserData()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.fetchUserData()}},{key:"render",value:function(){return this.state.user?s.a.createElement(s.a.Fragment,null,s.a.createElement(A,{isShowing:this.state.isShowing,user:this.state.user,comments:this.state.comments,posts:this.state.posts,closeModal:this.closeModal,openModal:this.openModal,handleSubmit:this.handleSubmit})):null}}]),t}(n.Component)),J=(a(46),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={users:[],inputValue:""},a.changeValue=a.changeValue.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://book-api.hypetech.xyz/v1/users",{method:"GET",headers:{"x-api-key":"B1tD3V",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return new w(e)})}).then(function(t){e.setState({users:t})})}},{key:"changeValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"showSearch",value:function(){return s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper"},s.a.createElement("form",null,s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{id:"search",type:"search",required:!0,value:this.state.inputValue,onChange:this.changeValue}),s.a.createElement("label",{className:"label-icon",htmlFor:"search"},s.a.createElement("i",{className:"fas fa-search"}))))))}},{key:"showPeople",value:function(){var e=this;return this.state.users.filter(function(t){return"".concat(t.firstName," ").concat(t.lastName).toLowerCase().includes(e.state.inputValue.toLowerCase())}).map(function(e){return s.a.createElement("div",{key:e.id,className:"row user clearfix valign-wrapper"},s.a.createElement("div",{className:"image left col s2"},s.a.createElement("img",{className:"img-people",src:e.avatarUrl,alt:"Something.."})),s.a.createElement("div",{className:"info col s9"},s.a.createElement("h5",null,s.a.createElement(r.b,{to:"profile/".concat(e.id)},"".concat(e.firstName," ").concat(e.lastName))),s.a.createElement("p",null,"Short user description: ",e.biography)),s.a.createElement("div",{className:"right col s1"},s.a.createElement("p",null,"Registered on: ",s.a.createElement("b",null,e.createdAt))))})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.showSearch(),this.showPeople())}}]),t}(n.Component)),G=(a(47),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={nameInputValueReg:"",emailInputValueReg:"",passwordInputValueReg:"",emailInputValueLog:"",passwordInputValueLog:"",regValidate:null,logValidate:null,logButtonDisabled:!1,regButtonDisabled:!1},a.instance=null,a.handleInputChange=a.handleInputChange.bind(Object(h.a)(Object(h.a)(a))),a.sendRegisterReq=a.sendRegisterReq.bind(Object(h.a)(Object(h.a)(a))),a.sendLoginReq=a.sendLoginReq.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isValidEmailLogIn",value:function(e){return""===e||(!!e.includes("@")||{error:"Invalid email address"})}},{key:"isValidPassLogIn",value:function(e){return 0===e.length||(!(e.length<6)||{error:"Password must be min 6 characters"})}},{key:"componentDidMount",value:function(){this.instance=S.a.Tabs.init(document.querySelector(".tabs"))}},{key:"isValidEmailRegister",value:function(e){return 0===e.length||(!!e.includes("@")||{error:"Invalid email address"})}},{key:"isValidPassRegister",value:function(e){return 0===e.length||(!(e.length<6)||{error:"Password must be min 6 characters"})}},{key:"handleInputChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"sendRegisterReq",value:function(e){var t=this;e.preventDefault();var a,n={name:this.state.nameInputValueReg,email:this.state.emailInputValueReg,password:this.state.passwordInputValueReg};(a=n,fetch("https://book-api.hypetech.xyz/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"B1tD3V"},body:JSON.stringify(a)}).then(function(e){return console.log(e),e.json()}).then(function(e){return e})).then(function(e){422!==e.statusCode?t.instance.select("login"):t.setState({regValidate:e.message,nameInputValueReg:"",emailInputValueReg:"",passwordInputValueReg:""})})}},{key:"sendLoginReq",value:function(e){var t=this;e.preventDefault();var a,n={email:this.state.emailInputValueLog,password:this.state.passwordInputValueLog};(a=n,fetch("https://book-api.hypetech.xyz/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"B1tD3V"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return e})).then(function(e){e.accessToken&&(localStorage.setItem("user",e.accessToken),t.props.logIn()),422===e.statusCode&&t.setState({logValidate:"Unable to login. Invalid credentials."}),console.log(e)})}},{key:"render",value:function(){var e=this.isValidEmailLogIn(this.state.emailInputValueLog),t=this.isValidPassLogIn(this.state.passwordInputValueLog),a=this.isValidEmailRegister(this.state.emailInputValueReg),n=this.isValidPassRegister(this.state.passwordInputValueReg);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"register col s6"},s.a.createElement("h1",null,"BitBook Register and Login"),s.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt et voluptatum aliquam accusamus consequuntur distinctio nulla consectetur, dolorum dignissimos necessitatibus commodi. Nulla, maxime sint architecto ex itaque harum quas, quidem iusto eligendi laudantium, magni maiores quos. Odio necessitatibus ipsa laboriosam?")),s.a.createElement("div",{className:"col s5"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12"},s.a.createElement("ul",{className:"tabs"},s.a.createElement("li",{className:"tab col s6"},s.a.createElement("a",{href:"#login"},"Login")),s.a.createElement("li",{className:"tab col s6"},s.a.createElement("a",{className:"active",href:"#register"},"Register")))),s.a.createElement("div",{id:"login",className:"col s12"},s.a.createElement("form",null,s.a.createElement("div",{className:"form row"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{name:"emailInputValueLog",onChange:this.handleInputChange,placeholder:"Email address",id:"login-email",type:"email",className:"validate",value:this.state.emailInputValueLog}),s.a.createElement("label",{htmlFor:"login-email"},"Email"),s.a.createElement("p",{className:"validate-message center"},e?e.error:null)),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{name:"passwordInputValueLog",onChange:this.handleInputChange,placeholder:"Minimum 6 characters",id:"login-password",type:"password",className:"validate",value:this.state.passwordInputValueLog}),s.a.createElement("label",{htmlFor:"login-password"},"Password"),s.a.createElement("p",{className:"validate-message center"},t?t.error:null))),s.a.createElement("button",{disabled:e.error||t.error,onClick:this.sendLoginReq,className:"register col s12",type:"submit"},"Login"),s.a.createElement("p",{className:"validate-message center"},this.state.logValidate))),s.a.createElement("div",{id:"register",className:"col s12"},s.a.createElement("form",null,s.a.createElement("div",{className:"form row"},s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{onChange:this.handleInputChange,name:"nameInputValueReg",placeholder:"Full name",id:"full-name",type:"text",className:"validate",value:this.state.nameInputValueReg}),s.a.createElement("label",{htmlFor:"full-name"},"Name")),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{onChange:this.handleInputChange,name:"emailInputValueReg",placeholder:"Email address",id:"register-email",type:"email",className:"validate",value:this.state.emailInputValueReg}),s.a.createElement("label",{htmlFor:"register-email"},"Email"),s.a.createElement("p",{className:"validate-message center"},a?a.error:null)),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("input",{onChange:this.handleInputChange,name:"passwordInputValueReg",placeholder:"Minimum 6 characters",id:"register-password",type:"password",className:"validate",value:this.state.passwordInputValueReg}),s.a.createElement("label",{htmlFor:"register-password"},"Password"),s.a.createElement("p",{className:"validate-message center"},n?n.error:null))),s.a.createElement("p",{className:"validate-message center"},this.state.regValidate),s.a.createElement("button",{disabled:a.error||n.error,className:"register col s12",type:"submit",onClick:this.sendRegisterReq},"Register")))))))}}]),t}(n.Component)),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:null,comments:[],posts:[],isShowing:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.id,fetch("https://book-api.hypetech.xyz/v1/users/".concat(e,"?_embed[]=posts&_embed[]=comments"),{method:"GET",headers:{"x-api-key":"B1tD3V","Content-Type":"application/json",Authorization:"Bearer ".concat(O())}}).then(function(e){return e.json()}).then(function(e){return new w(e)})).then(function(e){t.setState({user:e,comments:e.comments,posts:e.posts})})}},{key:"render",value:function(){return this.state.user?s.a.createElement(s.a.Fragment,null,s.a.createElement(A,{isShowing:this.state.isShowing,user:this.state.user,comments:this.state.comments,posts:this.state.posts,closeModal:this.closeModal,openModal:this.openModal})):null}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={logged:!!localStorage.getItem("user")},a.logIn=a.logIn.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"logIn",value:function(){this.setState(function(e){return{logged:!e.logged}})}},{key:"render",value:function(){var e=this;return this.state.logged?s.a.createElement(s.a.Fragment,null,s.a.createElement(g,null),s.a.createElement("main",{className:"container"},s.a.createElement(p.c,null,s.a.createElement(p.a,{path:"/people",component:J}),s.a.createElement(p.a,{path:"/profile/:id",component:Y}),s.a.createElement(p.a,{path:"/profile",component:_}),s.a.createElement(p.a,{path:"/feeds/:id",component:F}),s.a.createElement(p.a,{path:"/",component:M}))),s.a.createElement(f,null)):s.a.createElement(p.a,{path:"/",render:function(t){return s.a.createElement(G,{logIn:e.logIn})}})}}]),t}(n.Component);a(48);o.a.render(s.a.createElement(r.a,null,s.a.createElement(H,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.659c3328.chunk.js.map